/*! H5SPA 1.0.0 | 2016-01-24 22:27:34 */
!function(a,b){var c="-main-view",d={},e={init:function(a){/(windows)/i.test(navigator.userAgent)&&(location.href="views/pc.html"),b.addEventListener("DOMContentLoaded",function(){e.initViewPool(),e.bindTapEvent(),e.bindHashEvent()},!1)}(),forward:function(b,e){e=e||"left";var f="translateX(0%)",g="translateX(100%)",h="translateX(-100%)",i="translateX(0%)";"right"==e&&(f="translateX(0%)",g="translateX(-100%)",h="translateX(100%)",i="translateX(0%)");var j=d[c],k=d[b];k.style.webkitTransform=g,j.style.webkitTransform=f,k.style.display="";var l=setTimeout(function(){k.style.webkitTransform=i,j.style.webkitTransform=h},200),m=setTimeout(function(){j.style.display="none",c=b,"left"===e&&(a.location.hash=c.substring(1)),a.clearTimeout(l),a.clearTimeout(m)},600)},initViewPool:function(){var a=b.querySelectorAll(".pageview");Array.prototype.forEach.call(a,function(a){d[a.id]=a})},bindTapEvent:function(){var a,c=this;b.addEventListener("touchstart",function(){a=!1},!1),b.addEventListener("touchmove",function(){a=!0},!1),b.addEventListener("touchend",function(){if(!a){var b=event.target;"right-arrow"===b.className&&c.forward(b.title),"left-arrow"===b.className&&history.back()}},!1)},bindHashEvent:function(){var b=this;a.addEventListener("hashchange",function(){var d=a.location.hash.replace("#","-");"-main-view"!=c&&d!=c&&(d=d||"-main-view",b.forward(d,"right"))},!1)}}}(window,document);